(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-login"],{5502:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("v-uni-view",{staticClass:"colonn center_center",staticStyle:{height:"100vh"}},[149==t.nowExhId||150==t.nowExhId?[n("v-uni-view",{staticClass:"roww"},[""!=t.exType?n("v-uni-image",{staticClass:"logimh2",attrs:{mode:"widthFix",src:t.$tools.getlogos(3)}}):t._e(),n("v-uni-view",{staticStyle:{width:"60rpx"}}),""!=t.exType?n("v-uni-image",{staticClass:"logimh2",attrs:{mode:"widthFix",src:t.$tools.getlogos(5)}}):t._e()],1)]:[""!=t.exType?n("v-uni-image",{staticClass:"logimh",attrs:{mode:"widthFix",src:t.$tools.getlogos(t.exType)}}):t._e()],n("v-uni-view",{staticClass:"colonn  p-all-25 "},[n("v-uni-view",{staticClass:"roww  fs-27 border_bottom m-top-25 p-bottom-20"},[n("v-uni-view",{staticClass:"roww center_center"},[n("v-uni-text",{staticClass:"color2_r m-right-5"},[t._v("*")]),n("v-uni-view",[t._v("手机号")])],1),n("v-uni-input",{staticClass:"fs-25 m-left-15",attrs:{maxlength:"11",placeholder:"请输入手机号"},model:{value:t.form.phonenum,callback:function(e){t.$set(t.form,"phonenum",e)},expression:"form.phonenum"}})],1),n("v-uni-view",{staticClass:"roww fs-27 center_center border_bottom m-top-25 p-bottom-20"},[n("v-uni-view",{staticClass:"roww center_center"},[n("v-uni-text",{staticClass:"color2_r m-right-5"},[t._v("*")]),n("v-uni-view",{staticClass:"fs27"},[t._v("验证码")])],1),n("v-uni-input",{staticClass:"fs-25 m-left-15",attrs:{placeholder:"请输入验证码"},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}),n("v-uni-view",{staticClass:"allline"}),n("v-uni-view",{staticClass:"clickmam",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.sendcode.apply(void 0,arguments)}}},[100==t.daojishi?[t._v("获取验证码")]:[t._v("重新发送"+t._s(t.daojishi))]],2)],1),n("v-uni-view",{staticClass:"roww center_center"},[n("v-uni-view",{staticClass:"xiayibubtn",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.toIndex.apply(void 0,arguments)}}},[t._v("确认登录")])],1)],1)],2)],1)},o=[]},"5ad8":function(t,e,n){"use strict";n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("e25e"),n("c975"),n("ac1f"),n("5319"),n("d401"),n("d3b7"),n("25f0");var i=n("dab6"),o=i.enc.Utf8.parse("2020081720200817"),a={data:function(){return{form:{phonenum:"",code:""},code:"",dingshiqi:"",daojishi:100,codeNumber:"",options:{},exType:"",nowExhId:""}},onLoad:function(){var t=this;console.error("登录页面在跑动"),this.initDate();var e=uni.getStorageSync("nowExhId");if(!e)return this.$tools.showToast("展会不存在，请联系管理员"),!1;this.nowExhId=e;var n=uni.getStorageSync("unionid");n&&(this.form.phonenum=n,this.isBaoming()),this.exType=uni.getStorageSync("exType"),setTimeout((function(e){t.exType=uni.getStorageSync("exType")}),1e3),setTimeout((function(e){t.exType=uni.getStorageSync("exType")}),3e3)},methods:{getLogoUrl:function(){this.$tools.getlogos()},toShare:function(){var t=this,e=window.location.href,n=uni.getSystemInfoSync();console.log();var i="";i="ios"!=n.platform?e:window.location.href.split("#")[0];var o={params:{exhType:parseInt(uni.getStorageSync("exType")),url:i}};this.$axios.axios("post",this.$paths.ticketwxminiapp,o).then((function(e){console.log("获取分享数据",e);try{uni.getStorageSync("exType");t.util.jwxModule(e,t.$tools.gettitle(),t.$tools.gettitle(),window.location.href,"")}catch(n){console.log("薄袄报错122",n)}})).catch((function(t){}))},initDate:function(){var t=window.location.href;if(t=this.$tools.toDuanlianjie(t),console.log("浏览器地址",t),t.indexOf("?")>=0&&(t=t.split("?"),t.length>=3&&uni.setStorageSync("canshu",t[2])),2==t.length&&t[1].indexOf("#")>=0){t=t[1].split("#"),console.log("浏览器地址2",t);var e=t[0];uni.setStorageSync("canshu",e)}else if(2==t.length&&t[1].indexOf("#")<0){console.log("浏览器地址3",t);e=t[1];uni.setStorageSync("canshu",e)}var n=this.getRequestParams();console.log("浏览器地址参数实体类",n),console.log("aa",n,n.upUid),n.exhId&&uni.setStorageSync("nowExhId",n.exhId),n.exType&&(uni.setStorageSync("exType",n.exType),uni.setNavigationBarTitle({title:this.$tools.gettitle()}));var i=uni.getStorageSync("unionid");(n.upUid&&i!=n.upUid||!i&&n.upUid)&&uni.setStorageSync("upUid",n.upUid),n.name&&(uni.setStorageSync("name",n.name),n.name.indexOf("%")>=0&&(n.name=decodeURI(n.name))),this.options=n,this.$tools.shareWx()},getCanshu:function(t){var e=uni.getStorageSync("canshu");if(e.indexOf("upUid")>=0){var n=uni.getStorageSync("upUid");e=e.replace(n,t)}else e=e+"&upUid="+t;return console.log("获取的手机号",e),uni.setStorageSync("canshu",e),e},ishistory:function(){var t=uni.getStorageSync("unionid");t&&uni.showModal({title:"提示",content:"已验证手机号，是否使用"+t+"手机号登录",success:function(t){t.confirm||t.cancel&&uni.removeStorageSync("unionid")}})},Decrypt:function(t){var e=i.AES.decrypt(t,o,{mode:i.mode.ECB,padding:i.pad.Pkcs7}),n=e.toString(i.enc.Utf8);return n.toString()},Encrypt:function(t){var e=i.AES.encrypt(t,o,{mode:i.mode.ECB,padding:i.pad.Pkcs7});return e.toString()},sendcode:function(){var t=this,e=this.form;if(""==e.phonenum)return this.$tools.showToast("请输入电话"),!1;var n=this.Encrypt(e.phonenum+"-"+uni.getStorageSync("exType")),i={content:n};this.$axios.axios("POST",this.$paths.getphonesendmsgE,i).then((function(e){200==e.code?(t.$tools.showToast("短信发送成功"),t.codeNumber=e.data,clearInterval(t.dingshiqi),t.dingshiqi=setInterval((function(e){t.daojishi-1<=0?(t.daojishi=100,clearInterval(t.dingshiqi)):t.daojishi=t.daojishi-1}),1e3)):t.$tools.showToast(e.msg)})).catch((function(t){console.log("错误回调",t)}))},isBaoming:function(){var t=this,e={exhId:uni.getStorageSync("nowExhId"),params:{unionid:uni.getStorageSync("unionid")}};this.$axios.axios("POST",this.$paths.enrollcheckvisitor,e).then((function(e){200==e.code&&(t.code="202304",t.toIndex())})).catch((function(t){}))},isLogin:function(){return""==this.code?(this.$tools.showToast("请输入验证码"),!1):this.codeNumber!=this.code&&"202304"!=this.code?(this.$tools.showToast("验证码输入有误"),!1):(uni.setStorageSync("unionid",this.form.phonenum),!0)},toIndex:function(){if(!this.isLogin())return!1;var t=uni.getStorageSync("unionid"),e=this.getCanshu(t);uni.navigateTo({url:"/pages/index/index?"+e})},getRequestParams:function(){for(var t={},e=uni.getStorageSync("canshu"),n=e.split("&"),i=0;i<n.length;i++){var o=n[i],a=o.split("=");t[a[0]]=decodeURIComponent(a[1])}return t}}};e.default=a},"778c":function(t,e,n){"use strict";n.r(e);var i=n("5ad8"),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},"8ea7":function(t,e,n){"use strict";n.r(e);var i=n("5502"),o=n("778c");for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("efda");var s=n("f0c5"),c=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"9706e410",null,!1,i["a"],void 0);e["default"]=c.exports},a475:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,".onetihs[data-v-9706e410]{background-color:#c9c9c9;color:#371b64;font-size:%?25?%;width:%?700?%;padding:%?25?% %?25?%;margin-left:%?25?%;margin-top:%?40?%}.shuruku[data-v-9706e410]{font-size:%?27?%;font-weight:700}.xiayibubtn[data-v-9706e410]{width:%?600?%;height:%?80?%;text-align:center;line-height:%?80?%;background-color:#2e7efc;color:#fff;border-radius:%?10?%;margin-top:%?55?%}.clickmam[data-v-9706e410]{width:%?160?%;height:%?64?%;background:linear-gradient(180deg,#2e7efc,#2e7efc);border-radius:%?12?%;opacity:1;font-size:%?25?%;text-align:center;line-height:%?64?%;color:#fff}.logimh[data-v-9706e410]{width:%?220?%;height:%?220?%;margin-bottom:%?65?%;border-radius:50%}.logimh2[data-v-9706e410]{width:%?180?%;height:%?180?%;margin-bottom:%?65?%;border-radius:50%}",""]),t.exports=e},c917:function(t,e,n){var i=n("a475");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("4f06").default;o("2279b71a",i,!0,{sourceMap:!1,shadowMode:!1})},efda:function(t,e,n){"use strict";var i=n("c917"),o=n.n(i);o.a}}]);